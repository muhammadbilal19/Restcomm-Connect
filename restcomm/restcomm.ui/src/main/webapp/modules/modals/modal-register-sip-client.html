<style type="text/css">
#client-password-wrap {
    position: relative;
}
</style>

<div class="modal-header">
    <h3 class="no-margins"><i class="fa fa-phone"></i> Register Client</h3>
</div>
<div class="modal-body">
    <form class="form-horizontal">
        <dl class="dl-horizontal form-dl">
            <dt>Account SID</dt>
            <dd>
                <input type="text" class="form-control input-xlarge" id="new-client-account-sid" ng-model="sid" placeholder="Account SID" disabled />
            </dd>
            <!--<hr class="small" />-->
            <dt>Login</dt>
            <dd>
                <input id="new-client-login" class="form-control" ng-model="clientDetails.login" type="text" placeholder="eg: alice" required popover-placement="bottom" popover-trigger="focus" uib-popover="The name that is used by the user agent as the user name for registration and outbound dialing." />
            </dd>
            <dt>Password</dt>
            <dd id="client-password-wrap">
                <div class="password-strength" ng-password-strength="clientDetails.password" strength="pwdStrength" css-mode="bootstrap" inner-class="progress-bar" inner-class-prefix="progress-bar-" style="padding: inherit;">
                    <uib-progressbar value="pwdStrength"></uib-progressbar>
                </div>

                <input id="new-client-password" class="form-control" ng-model="clientDetails.password" type="password" placeholder="Password" ng-class="{'password-transparent' : clientDetails.password}" required />
            </dd>
            <!-- TODO: Implement password verification
            <dt>Confirm Password</dt>
            <dd>
                <input id="new-client-password-confirm" class="form-control" ng-model="newClient.password_confirm" type="password" placeholder="Password Confirmation" />
            </dd>
            -->
        </dl>

        <div class="text-right">
            <button type="button" ng-click="isCollapsed = !isCollapsed" class="btn btn-default btn-sm"><i class="fa fa-ellipsis-h"></i> Optional Parameters</legend></button>
        </div>
        <div uib-collapse="isCollapsed">
            <hr />
            <dl class="dl-horizontal form-dl">
                <dt>Friendly Name</dt>
                <dd>
                    <input type="text" class="form-control input-large" id="new-client-friendly-name" placeholder="Hot Line Client" ng-model="clientDetails.friendly_name" />
                </dd>
            </dl>
            <!--
            <h4>Voice</h4>
            <dl class="dl-horizontal form-dl">
                <dt>Voice Request URL</dt>
                <dd>
                    <rc-endpoint-url method-var="clientDetails.voice_method" url-var="clientDetails.voice_url" apps="localApps"></rc-endpoint-url>
                </dd>
                <dt>Voice Fallback URL</dt>
                <dd>
                    <rc-endpoint-url method-var="clientDetails.voice_fallback_method" url-var="clientDetails.voice_fallback_url" apps="localApps"></rc-endpoint-url>
                </dd>
                <dt>Status Callback URL</dt>
                <dd>
                    <rc-endpoint-url method-var="clientDetails.status_callback_method" url-var="clientDetails.status_callback_url"></rc-endpoint-url>
                </dd>
            </dl>
            -->
            <!--h4>SMS Messaging</h4> Commented because Restcomm API, does not support SMS functionality for Users/Clients.
            <dl class="dl-horizontal form-dl">
                <dt>SMS Request URL</dt>
                <dd>
                    <rc-endpoint-url method-var="clientDetails.sms_method" url-var="clientDetails.sms_url"></rc-endpoint-url>
                </dd>
                <dt>SMS Fallback URL</dt>
                <dd>
                    <rc-endpoint-url method-var="clientDetails.sms_fallback_method" url-var="clientDetails.sms_fallback_url"></rc-endpoint-url>
                </dd>
            </dl-->
        </div>

    </form>
</div>
<div class="modal-footer">
    <button class="btn btn-default cancel" ng-click="closeRegisterSIPClient()">Cancel</button>
    <button class="btn btn-primary" ng-click="registerSIPClient(clientDetails)" ng-disabled="!clientDetails.password || pwdStrength < 50">Register</button>
</div>
